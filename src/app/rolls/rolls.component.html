<div fxLayout="row" fxLayoutAlign="space-evenly stretch" class="page-view rolls-view">
  <div fxFlex="2 2 65vw" fxLayout="column" fxLayoutAlign="space-between stretch">
    <mat-card class="blue" fxFlex="0 0 35%"></mat-card>
    <mat-card fxFlex="0 0 65%" class="chats">
      <mat-card-header fxLayout="row" fxLayoutAlign="center center">
        <mat-card-title>Livechat</mat-card-title>
      </mat-card-header>
      <mat-card-content class="chatbox">
        <div *ngFor="let chat of chats">
          <div class="message sent" [class.critFail]="chat.isCritFail" [class.critSuccess]="chat.isCritSuccess" *ngIf="chat.type!=='joined' && chat.isMe">
            {{chat.message}}
            <span class="metadata">
              <span class="time">{{chat.createdAt | date: 'HH:mm aaa'}}</span>
            </span>
          </div>
          <div class="message received" [class.critFail]="chat.isCritFail" [class.critSuccess]="chat.isCritSuccess"  *ngIf="chat.type!=='joined' && !chat.isMe">
            <strong>{{chat.displayName}}</strong> <br>
            {{chat.message}}
            <span class="metadata">
              <span class="time">{{chat.createdAt | date: 'HH:mm aaa'}}</span>
            </span>
          </div>
          <p align="center" class="joined"  *ngIf="chat.type==='joined'">
            <span class="rounded bg-primary text-white">{{chat.displayName}} joined</span>
          </p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <mat-card fxFlex="1 1 35vw" fxLayout="column" fxLayoutAlign="start stretch">
    <mat-card fxFlex="1 1 auto" class="green"></mat-card>
    <mat-card fxFlex="5 5 auto" fxLayout="row" fxLayoutAlign="start stretch">
      <mat-card fxFlex="1 1 auto" fxLayout="column" fxLayoutAlign="space-evenly stretch">
        <mat-card fxFlex="1 1 auto" fxLayout="row" fxLayoutAlign="space-evenly stretch">
          <mat-card fxFlex="2 2 auto">stats</mat-card>
          <mat-card fxFlex="3 3 auto">initiative</mat-card>
        </mat-card>
        <mat-card fxFlex="1 1 auto" > attaque parade esquive</mat-card>
        <mat-card fxFlex="1 1 auto" fxLayout="row" fxLayoutAlign="space-evenly stretch">
          <mat-card fxFlex="1 1 auto">hp fatigue ki statut</mat-card>
          <mat-card fxFlex="1 1 auto"> resistances et presence</mat-card>
        </mat-card>
        <mat-card fxFlex="3 3 auto" fxLayout="row wrap" fxLayoutAlign="start stretch">
          <mat-card fxFlex="1 1 auto">equipement et or</mat-card>
          <mat-card fxFlex="1 1 auto">techniques</mat-card>
        </mat-card>
      </mat-card>
      <mat-card fxFlex="1 1 auto" class="stats-and-skills">
        <mat-card-header><h3>Secondary Skills</h3></mat-card-header>
        <mat-list dense>
          <div *ngFor="let section of skillSections">
            <h3 mat-subheader>{{section.sectionName}}</h3>
            <mat-list-item *ngFor="let skill of section.sectionSkills">
              <div fxLayout="row" fxLayoutAlign="start center" class="skill-list-row">
                <button (click)="rollSkill(skill)" mat-icon-button><mat-icon mat-list-icon>casino</mat-icon></button>
                <div  mat-line>{{skill.name}} : {{computeSkillTotal(skill)}}</div>
              </div>
            </mat-list-item>
            <mat-divider></mat-divider>
          </div>
        </mat-list>
      </mat-card>
    </mat-card>
  </mat-card>
</div>
